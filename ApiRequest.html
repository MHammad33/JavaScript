<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>API</title>
		<style>
			.cards {
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
				grid-gap: 20px;
			}

			.card {
				display: grid;
				grid-template-rows: max-content 200px 1fr;
			}

			.card img {
				object-fit: cover;
				width: 100%;
				height: 100%;
			}
		</style>
	</head>
	<body style="background-color: #212121; color: white">
		0 UNSENT Client has been created. open() not called yet. <br />
		1 OPENED open() has been called. <br />
		2 HEADERS_RECEIVED send() has been called, and headers and status are
		available. <br />
		3 LOADING Downloading; responseText holds partial data. <br />
		4 DONE The operation is complete. <br />
		<hr />
		<div class="cards">
			<article class="card">
				<header>
					<h2 id="name"></h2>
				</header>
				<img id="image" src="" alt="" />
				<div class="content">
					<p id="location"></p>
				</div>
			</article>
		</div>
	</body>
	<script>
		const requestUrl = "https://api.github.com/users/MHammad33";
		const xhr = new XMLHttpRequest();
		xhr.open("GET", requestUrl); // Request opens
		xhr.onreadystatechange = function () {
			console.log(xhr.readyState);
			if (xhr.readyState === 4) {
				// console.log(this.responseText);
				// const data = JSON.parse(this.responseText);
				// console.log(typeof data);
				// console.log("Followers:", data.followers);

				const data = JSON.parse(this.responseText);
				document.querySelector("#name").innerHTML = data.name;
				document.querySelector("#image").setAttribute("alt", data.name);
				document.querySelector("#image").setAttribute("src", data.avatar_url);
				document.querySelector("#location").innerHTML = data.location;
			}
		};
		xhr.send(); // Request sent
	</script>
</html>
